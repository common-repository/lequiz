String.prototype.sansAccent=function(){for(var ma=[/[\300-\306]/g,/[\340-\346]/g,/[\310-\313]/g,/[\350-\353]/g,/[\314-\317]/g,/[\354-\357]/g,/[\322-\330]/g,/[\362-\370]/g,/[\331-\334]/g,/[\371-\374]/g,/[\321]/g,/[\361]/g,/[\307]/g,/[\347]/g],z="AaEeIiOoUuNnCc".split(""),X=this,Y=0;Y<ma.length;Y++)X=X.replace(ma[Y],z[Y]);return X};
function classe_lequiz(){function ma(a,b){var c="abcdeghjkmnoqrnuvwyABCDEGHJKMNOQRNUVWY".split(""),e="barquonkjwhgdcheymvBARQUONKJWHGDCHEYMV".split("");if(0<a.length)for(var f=0;f<a.length;f++){var h=a[f];var x="";if(0<h.length)for(var n=0;n<h.length;n++){var r=h.substring(n,n+1);for(var w=0;w<c.length;w++)if(r==e[w]){r=c[w];break}x+=r}b[f]=x}}function z(a,b){var c=""+localStorage[a];if("undefined"==c||null==c||""==c)var e=b;else e=c,"true"==c&&(e=!0),"false"==c&&(e=!1);"qp_j_"==a.substring(0,5)&&
0==fa&&1==e&&(fa=Math.abs(a.substring(5)));return e}function X(a,b){-1!=xa&&(clearTimeout(xa),xa=-1,b&&(d[a].sablier+=Date.now()-d[a].sablier_start))}function Y(a,b){Z="0";try{"none"!=document.getElementById("okcookies").style.display&&(Z=document.getElementById("okcookies").offsetHeight)}catch(e){}var c="<div id='q_retour_q' style='text-align:right;position:sticky;bottom:"+Z+"px;max-width:100vw;width:100%;'>"+b+"<div class='bt_quizz' onclick='lequiz.fermer_q_aside()'>Retourner au quiz</div></div>";
document.getElementById("asidequizz").innerHTML=a+c;document.getElementById("asidequizz").style.display="block";I.style.display="none";try{document.getElementById("asidequizz").scrollIntoView(!0)}catch(e){location.href="#asidequizz"}try{innerHeight>document.getElementById("lehaut").offsetHeight&&(document.getElementById("q_retour_q").style.top=document.getElementById("lehaut").offsetHeight-80+"px")}catch(e){}}function C(a,b,c){return 0!=a?(y="<p>"+b+" : "+a,""!=c&&(y+="<br>("+c+")"),y+="</p>"):""}
function na(a){var b=document.getElementById("q_bt_score");null!=b&&("auto"==a?(a=g[10],"0"==a?b.style.display="none":(b.style.display="inline",b.title="Score = "+a+" (cliquer pour en savoir plus)")):b.style.display="none")}function H(a,b,c,e){y="<p class='q_p_perso' id='q_p_perso_"+b+"'>";if("j_"==b.substring(0,2))y+="<input type='checkbox' id='qpp_"+b+"'",a&&(y+=" checked "),y+="/>",y+="&nbsp;&nbsp;<label class='q_l_joker' for='qpp_"+b+"'>"+c+"</label>";else{y+="<strong>"+c+"</strong> : ";y+="<select id='qpp_"+
b+"' onchange='lequiz.qp_change(\""+b+"\")'>";for(var f=4;f<arguments.length;f+=2)y+="<option value='"+arguments[f]+"'",arguments[f]==""+a&&(y+=" selected "),y+=">"+arguments[f+1]+"</option>";y+="</select>"}""!=e&&(y+="<br>"+e);y+="<span id='qpp_rem_"+b+"' class='qpp_rem'></span>";return y+="</p>"}function A(a,b){document.getElementById("qpp_rem_"+a).innerHTML=b}function Wa(){-1<(sessionStorage.adr_quizz+"").indexOf("histoire")?location.href=sessionStorage.adr_quizz:location.href="/"}function Xa(a){0!=
D&&2>d[a].OK&&(R=D-d[a].sablier,5100<R&&(R=5E3),xa=setTimeout(function(){R=Date.now()-d[a].sablier_start;d[a].sablier+R+100>D?S(a,-9999):(4900<R&&1<d[a].score&&S(a,-1),d[a].sablier+=R,Xa(a))},R),d[a].sablier_start=Date.now())}function Ba(a,b){var c=document.getElementById("qbn_"+a).querySelector(".qb_aide");"block"==c.style.display?c.style.display="none":1==ha&&(c.innerHTML=b,c.style.display="block",c.style.top=""+-(c.offsetHeight+8)+"px",setTimeout(function(){c.style.display="none"},4E3));2==k&&
1==d[a].OK&&document.getElementById("qn_"+a).querySelector(".q_input").focus()}function Ya(a,b,c,e){b.style.position="relative";aa=b.getAttribute("data-qdate");var f=J="",h=b.parentElement.parentElement.querySelector("h3");null!=h&&(f=h.innerHTML);f+="<br>"+b.parentElement.innerHTML;0<k&&(J+="Jouez un joker",J=2==k?J+" ou saisissez un caract\u00e8re":J+" ou choisssez une lettre correspondant \u00e0 la r\u00e9ponse");b.title=J;a.innerHTML=b.parentElement.innerHTML+u.replace(/q_num_q/g,c);b=10;p=a.querySelectorAll(".q_joker");
E=p.length;if(0<E)for(h=0;h<E;h++)e&&(b="visible"!=p[h].style.visibility?b+2:b-1);K=F[c].trim();h=a.querySelector("#qbn_"+c);var x=K.replace(/ /g," ;").replace(/'/g,"';").replace(/-/g,"-;"),n=x.split(";");2==n.length&&3>n[1].length&&(x=x.replace(/;/g,""),n=x.split(";"));x=fa;var r=1==L?K.substring(1):F[c],w=1==L?K.substring(0,1):"",oa=r.sansAccent().toLowerCase();d[c]={OK:1,qdate:aa,rep:K,evt:f,joker:0,score:b,lesmots:n,nbmots:0,deja:w,encore:r,compare:oa,lepara:a,qcmc:a.innerHTML.substr(Math.round(a.innerHTML.length/
2),12),sablier:0,sablier_start:Date.now(),s_ja:0,s_cj:0,s_cf:0};f=(""==w?"&nbsp;":"")+"<span class='q_deja'>"+w+"</span>";2==k?(n="<input type='text' class='q_input' placeholder='Saisir un caract\u00e8re' oninput='lequiz.q_input_plus(this,"+c+")' title='Saisissez un caract\u00e8re' />",document.getElementById("qn_"+c).innerHTML=f+n):document.getElementById("qn_"+c).innerHTML=f;2==k&&Ca(c,w);e&&(h.style.display="block",1==k&&(Da(c),ba="Choisir un joker (bleu)<br>ou "+pa),Ea(c,b),Fa(c),lequiz.q_joker_plus(c,
x,!1),2==k&&a.querySelector("#qn_"+c).querySelector(".q_input").focus())}function Fa(a){B=d[a].lepara;Z=0;try{"none"!=document.getElementById("okcookies").style.display&&(Z=document.getElementById("okcookies").offsetHeight)}catch(c){}a=Z+Ga;if(window.innerHeight-a>B.offsetHeight){var b=B.offsetHeight;!qa&&window.innerHeight-a>b+80&&(b+=80);B.offsetTop+b>Za()+window.innerHeight-a-30&&(elstyletop=b+B.offsetTop-window.innerHeight+a+20,0>elstyletop&&(elstyletop=0),document.documentElement.scrollTop=elstyletop)}v||
(qa&&2==k?nadz_on_off("clavier"):1600>window.innerWidth&&window.innerHeight<Z+360+B.offsetHeight&&nadz_on_off("none"))}function Za(){if(0==document.body.scrollTop)try{return document.documentElement.scrollTop}catch(a){return document.body.scrollTop}else return document.body.scrollTop}function Ha(a){return"undefined"==ra[a]+""?"":ra[a]}function Da(a){var b="";if(""!=Ha(a)){var c=ra[a].split(",");ca="une r\u00e9ponse";var e=d[a].qcmc.charCodeAt(0)%(c.length+1);for(i=j=0;i<c.length+1;i++){if(j==e){var f=
d[a].rep;e=99}else f=c[j].trim(),j++;b+="<div class='qcm_choix_gest' onclick='lequiz.qcm_choix_gest(this,"+a+")'>"+f+"</div><br>"}}else{M=d[a].compare.substring(0,1);ca=-1<"0123456789".indexOf(M)?"un chiffre":"une lettre";f=-1<"aeiouy".indexOf(M)?"aaeeiioouuy":-1<"0123456789".indexOf(M)?"0123456789":"bbccddffgghjjkllmmnnppqrrssttvvwxz";f=f.replace(new RegExp(M,"g"),"");var h=(d[a].qcmc.charCodeAt(5)+M.charCodeAt(0))%5;c=d[a].encore.substring(0,1).sansAccent()==M?!1:!0;for(i=0;5>i;i++)e=d[a].qcmc.charCodeAt(i)%
f.length,e=i==h?M:f.substring(e,e+1),f=f.replace(new RegExp(e,"g"),""),b+="<div class='qcm_choix' onclick='lequiz.qcm_choix(\""+e+'",'+a+")'>"+(c?e.toUpperCase():e)+"</div>"}document.getElementById("qbn_"+a).querySelector(".qb_multi").innerHTML=b}function $a(a){ab(a);var b=d[a].encore.substring(0,1);if(" "==b||"'"==b||"-"==b)ab(a),d[a].nbmots++;Ca(a,d[a].deja)}function ab(a){d[a].deja+=d[a].encore.substring(0,1);d[a].compare=d[a].compare.substring(1);d[a].encore=d[a].encore.substring(1)}function Ca(a,
b){K=document.getElementById("qn_"+a);if(2!=k)K.querySelector(".q_deja").innerHTML=b;else{var c=document.getElementById("qn_"+a).querySelector("input.q_input");K.querySelector(".q_deja").innerHTML=b;c.style.width=K.offsetWidth-K.querySelector(".q_deja").offsetWidth-24+"px"}}function S(a,b){0!=b&&(d[a].score+=b,0>d[a].score&&(d[a].score=0),Ea(a,d[a].score),0==d[a].score&&(-9999==b?(N(a,!0,"<span title='Sablier de "+Math.round(D/1E3)+" secondes'>Trop tard !</span>"),Ia++,Ia>bb&&(Ba(a,"Pour ajuster le sablier,<br>Cliquez sur <a href='#' onclick='lequiz.q_page_perso(this)'>Personnaliser</a>"),
Ia=0)):(N(a,!0),2==k&&100>g[10]&&g[4]>g[3]&&(Ja++,3<Ja&&(Ba(a,"En cas d'allergie au clavier<br>Optez pour le type de quiz<br>Joker et QCM."),Ja=0)))))}function Ea(a,b){var c="#000000";11<b?c="green":5>b&&(c="red");document.getElementById("qbn_"+a).querySelector(".qb_score").innerHTML="<span style='color:"+c+";'>Score<br>"+b+"</span>"}function N(a,b){moi=document.getElementById("qn_"+a);Ka=La=0;var c="ok",e=J="";0==k?B=moi.parentElement:(B=d[a].lepara,document.getElementById("qn_"+a).style.whiteSpace=
"initial",document.getElementById("qn_"+a).style.width="auto",0<d[a].score?(c="ok",J="Score pour cette r\u00e9ponse : "+d[a].score,e="Vous avez trouv\u00e9 !<br>Oui, la r\u00e9ponse est :<br>"):(c="nok",J="Perdu ! La bonne r\u00e9ponse est en rouge",e=(2<arguments.length?arguments[2]:"Vous avez perdu !")+"<br>La bonne r\u00e9ponse est :<br>"),e+=d[a].rep);"0"==O?(moi.innerHTML=F[a],moi.className="q_rep_nanim_"+c):(objr="<span class='q_rep_anim'>",objr+=F[a],objr+="</span>",moi.innerHTML=objr,moi.className=
"q_rep_anim_"+c);p=B.querySelectorAll(".q_joker");E=p.length;if(0<E)for(c=0;c<E;c++)"visible"!=p[c].style.visibility?(lequiz.q_joker(p[c].querySelector(".q_l_joker"),!1),La++):Ka++;0<k&&(moi.title=J,document.getElementById("qbn_"+a).querySelector(".qb_multi").innerHTML="",document.getElementById("qbn_"+a).querySelector(".qb_lib").innerHTML=e,d[a].OK=2);if(b&&0!=k){v||nadz_on_off("initial");X(a,!0);0==D&&(d[a].sablier=Date.now()-d[a].sablier_start);e=d[a].score;c=0<e?1:0;var f=0<e?0:1,h=La,x=Ka,n=
d[a].s_ja,r=d[a].s_cj,w=d[a].s_cf,oa=d[a].sablier;g=ia.split(",");var ja=Math.abs(g[0].substring(1));g[2]=Math.abs(g[2])+0;g[3]=Math.abs(g[3])+c;g[4]=Math.abs(g[4])+f;g[5]=Math.abs(g[5])+h;g[6]=Math.abs(g[6])+x;g[7]=Math.abs(g[7])+n;g[8]=Math.abs(g[8])+r;g[9]=Math.abs(g[9])+w;g[10]=Math.abs(g[10])+e;g[11]=21<ja?Math.abs(g[11])+oa:0;c=g.join(",");ia!=c&&(ia=localStorage.q_score=c);na("auto");aa=d[a].qdate;if(""==aa||null==aa)aa=Ma[a];localStorage["p_"+aa]=e}}var v=!1,sa=!1,Na="#larticle",I="",m="mark",
ta="s",Oa="",ya="quiz",Pa=!1,za="Afficher le quiz",Aa="Voir les r\u00e9ponses",Qa="",Ra="",G="OOOM",ua="",k=1,L=0,O="2",ka="soutenu",D=3E4,ha=1,xa=-1,bb=1,R=0,fa=0,la=2,T="M",d=[],va=[],Ma=[],F=[],ra=[],P,Sa,q=[],ca="une lettre",Ta="",da=0,Ia=0,Ja=0,ba="",pa="",Ua="",cb=0,ea=!0,Ga=0,Z=0;try{document.createEvent("TouchEvent");var qa=!0}catch(a){qa=!1}var u="",U=new Date;U=U.getDate()+"/"+(U.getMonth()+1)+"/"+U.getFullYear()+" \u00e0 "+U.getHours()+"H"+U.getMinutes()+"M"+U.getSeconds()+"S";var ia="",
g="",La,Ka,J,p,E,t,Va,M,aa,B,Q,K,y,l,wa,V,W=-1;this.init=function(){this.qz_article=Na;this.qz_plugin=v;this.qz_idnum=sa;this.qz_mark=m;this.qz_nok=ta;this.qz_postid=Oa;this.qz_defaut=ya;this.q_trep=[];this.q_tnok=[];this.qz_persist=Pa;this.qz_lienquiz=za;this.qz_lienreponse=Aa;this.qp_type=k;this.qp_sablier=D;this.qp_af=L;this.qp_color=ka;this.qp_anim=O;this.qz_jokers=la;this.qp_aide=ha;this.qz_url_plug=Ra;this.qz_siteurl=Qa};this.charger_quizz=function(){Na=this.qz_article;v=this.qz_plugin;sa=this.qz_idnum;
if(ea&&(I=document.querySelector(Na),null==I))return;m=this.qz_mark;ta=this.qz_nok;Oa=this.qz_postid;ya=this.qz_defaut;Pa=this.qz_persist;!sa&&ea&&(ma(this.q_trep,F),ma(this.q_tnok,ra));za=this.qz_lienquiz;Aa=this.qz_lienreponse;k=this.qp_type;D=this.qp_sablier;L=this.qp_af;ka=this.qp_color;O=this.qp_anim;la=this.qz_jokers;ha=this.qp_aide;Ra=this.qz_url_plug;Qa=this.qz_siteurl;d.length=0;va=[];Ma=[];Ga=0;if(v)G="OOOM";else{try{G=lireCookie("OH")}catch(w){G="OOOM"}Ga=0==pub_adrenalead||800>window.outerWidth+
window.outerHeight?0:qa?260:360}Ta=location.pathname.substring(1).sansAccent().toLowerCase();v&&(Ta=Oa,ua=z("qz_choix_q_or_r",ya));null==G&&(G="OOOM");4==G.length&&(T=G.substring(3));W=-1;q[1]={OK:!1,type:"",pena:0,lib:"X"};q[2]={OK:2>la?!1:!0,type:"NM",pena:-2,lib:"Montrer un mot"};q[3]={OK:!1,type:"",pena:0,lib:"X"};q[4]={OK:3>la?!1:!0,type:"NC",pena:-1,lib:"Nb caract\u00e8res"};q[5]={OK:2>la?!1:!0,type:"NP",pena:-1,lib:"Un caract\u00e8re"};q[6]={OK:3>la?!1:!0,type:"NA",pena:-1,lib:"Anagramme"};
q[7]={OK:!0,type:"A",pena:0,lib:""};q[8]={OK:!0,type:"R",pena:0,lib:"R"};fa=0;T="M";4==G.length&&(T=G.substring(3));k=z("qp_type",k);L=z("qp_af",L);O=z("qp_anim",O);ka=z("qp_color",ka);D=z("qp_sablier",D);ha=z("qp_aide",ha);q[2].OK=z("qp_j_2",q[2].OK);q[4].OK=z("qp_j_4",q[4].OK);q[5].OK=z("qp_j_5",q[5].OK);q[6].OK=z("qp_j_6",q[6].OK);0==fa&&(fa=7);u="<div style='clear:both'></div>";u+="<div class='qb_box' id='qbn_q_num_q' style='display:none' onclick='if (event.stopPropagation) {event.stopPropagation();}';>";
u+="<div class='qb_aide' style='display:none' onclick='this.style.display=\"none\"'></div>";u+="<div style='float:left' class='qb_score'></div>";u+="<div style='width:26px;float:right;box-sizing:content-box;'>";u+="<div style='padding:5px 0px 5px 0px;margin-bottom:5px;background-color:red;cursor:pointer;' onclick='lequiz.qb_on_ferme(this)' title='Fermer'>X</div>";u+="<div style='padding:0px;cursor:pointer;' onclick='lequiz.qb_fmenu(this)'><img style='padding:0px;' src='"+(v?Ra+"/img":"../img")+"/outils.png'></div>";
u+="</div>";u+="<div class='qb_menu' style='display:none;'>";u+="<div style='float:right;background-color:red;padding:5px 8px 5px 8px;cursor:pointer;' onclick='lequiz.qb_fmenu(this.parentElement)' title='Fermer'>X</span></div>";u+="<div class='qb_lignemenu' style='float:left;display:inline-block;' onclick='lequiz.asidequizz(\"aide\")'>Aide</div>";u+="<div class='qb_lignemenu' style='clear:both;' onclick='lequiz.q_page_perso(this)'>Personnaliser</div>";v||(u+="<div class='qb_lignemenu' onclick='lequiz.asidequizz(\"partage\")'>Partager</div>");
u+="<div class='qb_lignemenu' onclick='lequiz.q_page_score(this)'>Score / R\u00e9initialiser</div>";v||(u+="<div class='qb_lignemenu' onclick='lequiz.f_signaler(q_num_q)'>Signaler / Proposer</div>");u+="</div>";u+="<div style='float:left;margin-left:12px;'><span class='qb_lib'></span>";0<k&&(u+="<br><span class='qb_multi' title='Choisissez une lettre qui correspond \u00e0 la r\u00e9ponse'></span>");u+="</div>";u+="<div style='clear:both;padding:0px;'></div>";u+="</div>";u+="<div style='clear:both'></div>";
ia=z("q_score","v22,"+U+",0,0,0,0,0,0,0,0,0,0");g=ia.split(",");100<g[10]&&(bb=3);Ua=qa?"toucher":"cliquer sur";pa=1==k?"Choisir "+ca+"(jaune)":"Saisir un caract\u00e8re";if(!v){try{qr_url_cur="/"+q_url_cur}catch(w){qr_url_cur=location.pathname}if(-1<qr_url_cur.indexOf("histoire"))sessionStorage.adr_quizz=qr_url_cur;else if(-1<(sessionStorage.adr_quizz+"").indexOf("histoire"))document.getElementById("q_ad_site_evt").href=document.getElementById("g_divsearch").getAttribute("data-sitecal")+sessionStorage.adr_quizz;
else{document.body.classList.add("lequiz_no");return}}var a=v?".lequiz-bloc ":"";var b=a+m+" {white-space:nowrap;top:initial;font-size:inherit;font-family:inherit;line-height:initial;}";b+=a+m+":empty {background-color:yellow;}";b+=a+m+" "+ta+" {display:none;}";b+=a+m+"[id^=qn_] "+ta+" {display:inline;}";b+=a+m+" input {transition-duration:0s;display:inline-block;line-height:inherit !important;padding:inherit !important;padding-right:0px !important;box-sizing:content-box !important;}";b+=m+"[id^=qn_], .enavant mark, #qpp_rem_anim "+
m+", #qpp_rem_af "+m+" {margin:2px 0px 2px 0px;background-color:yellow;color:black;border:1px solid black;border-radius:5px;padding:0px 5px 0px 5px;display:inline-block;cursor:pointer;min-width:100px;margin-left:3px;visibility:hidden;box-sizing:content-box;} ";0<O&&(b+=".q_joker .q_joker_anim {animation-duration: "+O+"s;animation-name: slidein;background-color:#FFFFFF}",b+=".q_rep_anim_ok .q_rep_anim, .q_rep_anim_nok .q_rep_anim  {animation-duration: "+O+"s;animation-name: slidein;}");b="pastel"==
ka?b+".q_rep_anim_ok, .q_rep_nanim_ok{background-color:#66ff66 !important;color:#000000 !important;}.q_rep_anim_nok, .q_rep_nanim_nok {background-color:pink !important;color:#000000 !important;}.q_l_joker {background-color:cyan;color:#000000;}":b+".q_rep_anim_ok, .q_rep_nanim_ok {background-color:green !important;color:#FFFFFF !important;}.q_rep_anim_nok, .q_rep_nanim_nok {background-color:red !important;color:#FFFFFF !important;}.q_l_joker {background-color:blue;color:#FFFFFF;}";v&&null===document.getElementById("styles_quizz")&&
(a=document.createElement("style"),a.id="styles_quizz",document.head.appendChild(a));document.getElementById("styles_quizz").innerHTML=b;b=[];var c=ta.toUpperCase();if(ea&&v&&(sa||"quiz"!=ua)){p=I.querySelectorAll(m);E=p.length;var e=0;if(0<E)for(a=0;a<E;a++)if(0<p[a].offsetWidth){var f="",h="",x=p[a].childNodes.length;if(2>x)f=p[a].innerHTML;else{for(var n=0;n<x;n++)if(p[a].childNodes[n].nodeName==c){var r=p[a].childNodes[n].textContent.trim();","==r.substring(0,1)&&(r=r.substr(1));","==r.substring(r.length-
1)&&(r=r.substr(0,r.length-1));h+=","+r}else f+=p[a].childNodes[n].textContent;h=h.replace(/,,/g,",").replace(/\s+/g," ");""!=h&&(h=h.substring(1))}"quiz"==ua?(f=f.replace(/\s+/g," ").trim(),F[e]=f,ra[e]=h,p[a].outerHTML="<"+m+" id='qn_"+e+"' onclick='lequiz.q_clic(this)'>"+f+"</"+m+">"):p[a].outerHTML="<b>"+(sa?f:F[p[a].id.substring(3)])+"</b>";e++}else p[a].outerHTML=""}if(v&&(document.body.classList.add("lequiz_ok"),a="<div style='display:inline-block;font-weight:bold'><a href='https://lequiz.calagenda.fr' title='Installez rapidement un quiz dans votre site Wordpress'>Quizz</a> : </div>",
"quiz"==ua?(a+="<div class='qz_elnavig' onclick='lequiz.asidequizz(\"aide\")'>Aide</div><div class='qz_elnavig' onclick='lequiz.q_page_perso(this)'>Personnaliser</div><div class='qz_elnavig' id='q_bt_score' onclick='lequiz.q_page_score(\"personne\")'>Score</div>",""!=Aa&&(a+="<div class='qz_elnavig' onclick='lequiz.qz_affiche_reponse()'>"+Aa+"</div>")):""!=za&&(a+="<div class='qz_elnavig' onclick='lequiz.qz_affiche_quiz()'>"+za+"</div>"),c=document.getElementById("qz_navig"),null===c&&(c=document.createElement("div"),
c.id="qz_navig",e=I,e.parentElement.insertBefore(c,e.nextSibling)),c.innerHTML=a,Pa||(localStorage.qz_choix_q_or_r=ya),"quiz"!=ua)){ea=!1;return}p=I.querySelectorAll(m);E=p.length;Va=!1;try{0<F.length&&(Va=!0)}catch(w){}if(0<E)for(a=0;a<E;a++)t=p[a].id.substring(3),c=p[a].getAttribute("data-qdate"),null==c&&(c=F[t].sansAccent().toLowerCase(),void 0===va[c]?va[c]=0:va[c]++,c=Ta+"("+c+"-"+va[c]+")",Ma[t]=c),c=z("p_"+c,""),ea||(B=p[a].parentElement,e=B.querySelector("#qbn_"+t),null!==e&&(f=B,f.onclick=
null,f.style.outline="none",B.removeChild(e))),""==c?(ea&&(p[a].style.width=p[a].offsetWidth+6+"px"),p[a].innerHTML=0==L?"&nbsp;":1==L?F[t].substring(0,1):F[t].replace(/&nbsp;/g," ").sansAccent().toLowerCase().split("").sort().join(""),p[a].title="Cliquer pour "+(0==k?"afficher la":"proposer une")+" r\u00e9ponse",p[a].className="",p[a].style.whiteSpace="nowrap"):b[t]=c,p[a].style.visibility="visible";if(0<b.length)for(a=0;a<b.length;a++)"undefined"!=""+b[a]&&(c=document.getElementById("qn_"+a),B=
c.parentElement,Ya(B,c,a,!1),d[a].score=b[a],N(a,!1),Ea(a,b[a]),c.style.visibility="visible",lequiz.qb_fermer("",a));na("auto");ea=!1};this.qp_ecr_params=function(){var a=T;T=v?"M":document.getElementById("qpp_niveau").value;G=G.substr(0,3)+T;v||creerCookie("OH",G,360);localStorage.qp_type=document.getElementById("qpp_type").value;localStorage.qp_af=document.getElementById("qpp_af").value;localStorage.qp_anim=document.getElementById("qpp_anim").value;localStorage.qp_color=document.getElementById("qpp_color").value;
localStorage.qp_aide=document.getElementById("qpp_aide").value;localStorage.qp_sablier=document.getElementById("qpp_sablier").value;localStorage.qp_j_2=document.getElementById("qpp_j_2").checked?"true":"false";localStorage.qp_j_4=document.getElementById("qpp_j_4").checked?"true":"false";localStorage.qp_j_5=document.getElementById("qpp_j_5").checked?"true":"false";localStorage.qp_j_6=document.getElementById("qpp_j_6").checked?"true":"false";a!=T?Wa():(lequiz.charger_quizz(),lequiz.fermer_q_aside())};
this.qb_fmenu=function(a){P=a.parentElement.parentElement;Q=P.id.substring(4);a=P.querySelector(".qb_menu");a.style.display="none"==a.style.display?"block":"none";if(2==k)try{document.getElementById("qn_"+t).querySelector(".q_input").focus()}catch(b){}};this.qb_fermer=function(a,b){W=-1;""==a?(Sa=d[b].lepara,Q=b,P=document.getElementById("qbn_"+Q)):(P=a.parentElement.parentElement,Sa=P.parentElement,Q=P.id.substring(4));document.getElementById("qn_"+Q).style.outline="none";P.querySelector(".qb_menu").style.display=
"none";P.style.display="none";var c=Sa;c.onclick=null;c.style.outline="none";X(Q,!0)};this.qb_on_ferme=function(a){this.qb_fermer(a);v||nadz_on_off("initial")};this.q_joker=function(a){da=-1;var b=1<arguments.length?arguments[1]:!0;a.style.display="none";objoker=a.parentElement;objoker.style.visibility="visible";objoker.style.minWidth="1px";objr="<span class='q_joker_anim'>";objr+=objoker.innerHTML;objr+="</span>";objoker.innerHTML=objr;0<k&&(qb_lepara=objoker.parentElement,moi=qb_lepara.querySelector(m),
null!=qb_lepara.querySelector(".qb_box")?b&&(Q=moi.id.substring(3),S(Q,-3),2==k&&qb_lepara.querySelector(".q_input").focus(),Fa(Q)):lequiz.q_clic(moi))};this.asidequizz=function(a,b,c){X(0,!1);if(v&&"aide"==a)document.location.href=Qa+"/lequiz-aide/";else{-1<W&&lequiz.qb_fermer("",W);le_bt_texte_x=1==arguments.length?"":b;cb=Za();if(null==document.getElementById("asidequizz")){d_s_t="<p>Wait please</p>";var e=document.createElement("div");e.id="asidequizz";e.style.padding="10px";var f=I;f.parentElement.insertBefore(e,
f)}if(-1==a.indexOf("<")){xhr_object=null;if(window.XMLHttpRequest)xhr_object=new XMLHttpRequest;else if(window.ActiveXObject)xhr_object=new ActiveXObject("Microsoft.XMLHTTP");else return!1;xchemin="//"+location.hostname+(v?"/monquiz/":"/quizz/")+a+".php";xhr_object.onreadystatechange=function(h){4===this.readyState&&(200===this.status?"signaler"==a?(t_docexemple=d[c].evt.replace('<span class="q_joker"><span class="q_l_joker" onclick="lequiz.q_joker(this)">Aide</span>',"<span><span>"),t_docexemple=
t_docexemple.replace('<span class="q_joker"><span class="q_l_joker" onclick="lequiz.q_joker(this)">Aide</span>',"<span><span>"),t_docexemple=t_docexemple.replace("</"+m+">","</"+m+"><span>.........</span>"),t_docexemple=t_docexemple.replace(' id="qn_',' id="qsn_'),t_docexemple=t_docexemple.replace(' src="/',' src="'+lesitehost+"/"),sessionStorage.q_evt_mail=t_docexemple,t_docexemple=this.responseText.replace("REVTX",t_docexemple)):"partage"==a?(t_docexemple=this.responseText.replace("REVTADR",location.origin+
(-1<location.pathname.indexOf("histoire")?location.pathname:"")),t_docexemple=t_docexemple.replace("Q_ADR_QUIZZ",location.origin+(-1<location.pathname.indexOf("histoire")?encodeURI(location.pathname):"")),t_docexemple=t_docexemple.replace("Q_TXT_QUIZZ",-1<location.pathname.indexOf("histoire")?document.title:"Quiz du jour"),t_docexemple=t_docexemple.replace("FB_ADR_QUIZZ",location.origin+(-1<location.pathname.indexOf("histoire")?location.pathname:"")),t_docexemple=t_docexemple.replace("FB_TXT_QUIZZ",
-1<location.pathname.indexOf("histoire")?document.title:"Quiz du jour")):t_docexemple=this.responseText:t_docexemple="<p style='text-align:center;'>Erreur chargement de la page "+xchemin+"<br> status="+this.status+this.statusText+"</p>",Y(t_docexemple,le_bt_texte_x),"score"!=a&&na("auto"))};xhr_object.open("GET",xchemin,!0);try{xhr_object.send(null)}catch(h){}}else Y(a,le_bt_texte_x)}};this.f_signaler=function(a){lequiz.asidequizz("signaler","",a)};this.q_page_score=function(a){l="<h3>D\u00e9tail du score du quiz</h3>";
wa="";g=ia.split(",");var b=Math.abs(g[0].substring(1)),c=parseInt(g[3])+parseInt(g[4]);0==c?"0"==k?(l+="<p>Avec le type de quiz 'Affichage imm\u00e9diat', le score n'es pas mis \u00e0 jour.",l+="<br>Pour modifier le type de quiz, cliquez sur le lien <a href='#' onclick=\"lequiz.q_page_perso('personne')\">Personnaliser</a>.</p>"):(l+="<p>Vous n'avez pas encore commenc\u00e9 ce quiz, ou vous l'avez r\u00e9initialis\u00e9 !",l+="<br>Cliquez sur chaque question (mat\u00e9rialis\u00e9e en jaune dans le texte) et r\u00e9pondez.</p>"):
(l+="<p>"+C(g[1],"Date et heure de d\u00e9but du quiz",""),l+=C(g[2],"Nombre total de questions",""),l+=C(c,"Nombre de r\u00e9ponses",""),l+=C(g[3],"- dont r\u00e9ponses exactes","Soit "+Math.round(g[3]/c*100)+"% du nombre total de r\u00e9ponses"),l+=C(g[4],"- dont r\u00e9ponses fausses",""),l+=C(g[5],"Jokers 'Aide' non utilis\u00e9s","plus deux points par joker sur une r\u00e9ponse juste"),l+=C(g[6],"Jokers 'Aide' utilis\u00e9s","moins trois points par joker"),l+=C(g[7],"Autres jokers","un ou deux point de p\u00e9nalit\u00e9 par joker"),
l+=C(g[8],"Frappes clavier justes","plus un point par frappe juste"),l+=C(g[9],"Frappes clavier fausses","moins un point par frappe fausse"),l+=C(g[10],"Score total","une r\u00e9ponse fausse ne peut pas donner lieu \u00e0 un score n\u00e9gatif"),l+=C(Math.round(parseInt(g[10])/c),"Score moyen par r\u00e9ponse",""),21<b&&5E3<parseInt(g[11])&&2<parseInt(g[3])&&0!=D&&(l+=C(Math.round(parseInt(g[11])/parseInt(g[3])/1E3)+" secondes","Temps de r\u00e9ponse moyen","temps total de jeu / r\u00e9ponses exactes")),
l+="</p>",wa="<div class='bt_quizz' onclick='lequiz.qp_init_score()'>R\u00e9initialiser le score et les questions</div>&nbsp;&nbsp;");l+="<p>A voir aussi : <a href='#' onclick='lequiz.asidequizz(\"aide\")'> Aide \u00e0 l'utilisation du quiz</a>.</p>";lequiz.asidequizz(l,wa);na("none");try{lequiz.qb_fmenu(a.parentElement)}catch(e){}};this.qp_init_score=function(){for(var a=[],b=0;b<localStorage.length;b++){var c=localStorage.key(b);"p_"==c.substring(0,2)&&(a[a.length]=c)}if(0<a.length)for(b=0;b<a.length;b++)localStorage.removeItem(a[b]);
localStorage.removeItem("q_score");lequiz.charger_quizz();lequiz.fermer_q_aside()};this.q_page_perso=function(a){l="<h2>Personnalisation du quiz</h2>";l+="<p>Vous pouvez choisir "+(v?"":"un niveau de difficult\u00e9, ")+'un type de jeu, les couleurs, l\'animation, les jokers, etc.<br>Apr\u00e8s personnalisation cliquez sur le bouton "Enregistrer ces pr\u00e9f\u00e9rences" en fin de page.</p>';v||(l+=H(T,"niveau","Niveau de difficult\u00e9","Coupl\u00e9 \u00e0 la personnalisation des jokers, le choix du niveau de difficult\u00e9 permet d'adapter le quiz aux exigences de l'internaute",
"M","Moyen","D","Difficile"));l+=H(k,"type","Type de quiz","","0","Affichage imm\u00e9diat","1","Jokers et QCM","2","Jokers et clavier");l+=H(D,"sablier","Sablier","Temps au del\u00e0 duquel la r\u00e9ponse est consid\u00e9r\u00e9e comme fausse (Si pas de sablier, le calcul du temps de r\u00e9ponse moyen n'est pas effectu\u00e9).","0","Pas de sablier","10000","10 secondes","15000","15 secondes","20000","20 secondes","25000","25 secondes","30000","30 secondes","35000","35 secondes","40000","40 secondes");
l+=H(L,"af","Affichage pr\u00e9alable","","0","Aucun","1","Premier caract\u00e8re","2","Anagramme");l+=H(ka,"color","Couleurs de l'interface","","pastel","Pastel","soutenu","Soutenu");l+=H(O,"anim","Animation graphique","R\u00e9sultat de l'animation : ","0","Aucune","0.5","Tr\u00e9s rapide","1","Rapide","2","Normal","3","Lente");l+="<h3>Les jokers facultatifs</h3>";l+=H(q[2].OK,"j_2","Montrer un mot","Deux points en moins sur le score. Ce joker est utilisable si la r\u00e9ponse comporte plusieurs mots",
"true","Oui","false","Non");l+=H(q[4].OK,"j_4","Nb caract\u00e8res","Un point en moins sur le score. Ce joker affiche le nombre de caract\u00e8res de la r\u00e9ponse, ou, s'il y a lieu, du dernier mot","true","Oui","false","Non");l+=H(q[5].OK,"j_5","Un caract\u00e8re","Un point en moins sur le score. Ce joker affichera une lettre jusqu'\u00e0 ce qu'il n'en reste que cinq \u00e0 trouver","true","Oui","false","Non");l+=H(q[6].OK,"j_6","Anagramme","Un point en moins sur le score. Les diff\u00e9rentes lettres de la r\u00e9ponse (ou, s'il y a lieu, du dernier mot \u00e0 trouver) sont affich\u00e9es dans le d\u00e9sordre, en minuscule et sans accents",
"true","Oui","false","Non");l+=H(ha,"aide","Aide interactive","L'aide interactive apporte une formation en cours de jeu aux d\u00e9butants, via des infos bulles.","1","Activ\u00e9e","0","D\u00e9sactiv\u00e9e");wa="<div class='bt_quizz' onclick='lequiz.qp_ecr_params()'>Enregistrer ces pr\u00e9f\u00e9rences</div>&nbsp;&nbsp;";lequiz.asidequizz(l,wa);v||lequiz.qp_change("niveau");lequiz.qp_change("type");lequiz.qp_change("af");lequiz.qp_change("color");lequiz.qp_change("anim");lequiz.qp_change("j_6");
try{lequiz.qb_fmenu(a.parentElement)}catch(b){}};this.qp_change=function(a){lui=document.getElementById("qpp_"+a);a=lui.id.substring(4);var b=lui.value;switch(a){case "niveau":switch(b){case "M":A("niveau","Avec le niveau moyen, la r\u00e9ponse ne comporte souvent qu'un mot, et l'utilisation des jokers (voir ci-dessous) permet aussi de trouver plus facilement la r\u00e9ponse");break;case "D":A("niveau","Avec le niveau difficile, la r\u00e9ponse comporte souvent plusieurs mots, et pour augmenter le niveau de difficult\u00e9, ne pas utiliser les jokers (voir ci-dessous)")}break;
case "type":switch(b){case "0":A("type","L'affichage imm\u00e9diat est r\u00e9serv\u00e9 aux internautes qui souhaitent approfondir rapidement leurs connaissances");break;case "1":A("type","Le QCM, propos\u00e9 par d\u00e9faut sur les smartphones et tablettes, consiste \u00e0 trouver la premi\u00e8re lettre manquante pour chaque question, parmi un groupe de cinq lettres.");break;case "2":A("type","La saisie au clavier, propos\u00e9e par d\u00e9faut sur les ordinateurs, est \u00e0 la fois plus rigoureuse et plus ludique. Chaque frappe juste rapporte un point et chaque frappe fausse co\u00fbte un point.<br>Si vous \u00eates allergique au clavier, choisissez plut\u00f4t 'Joker et QCM'. ")}break;
case "af":switch(b){case "0":A("af","<"+m+" style='width:150px;visibility:visible;'>&nbsp;</"+m+">");break;case "1":A("af","<"+m+" style='width:150px;visibility:visible;'>D</"+m+"><br>&nbsp;&nbsp;La premi\u00e8re lettre de la r\u00e9ponse est pr\u00e9alablement affich\u00e9e, et il faut donc trouver la r\u00e9ponse \u00e0 partir de la deuxi\u00e8me lettre");break;case "2":A("af","<"+m+" style='width:150px;visibility:visible;'>eenr adceensst</"+m+"><br>&nbsp;&nbsp;Les diff\u00e9rentes lettres de la r\u00e9ponse sont pr\u00e9alablement affich\u00e9es dans le d\u00e9sordre, en minuscule et sans accents")}break;
case "color":switch(b){case "pastel":A("color","<span class='qp_pastel'><span style='background-color:cyan;'>Joker</span>&nbsp;&nbsp;<span style='background-color:#66ff66;'>R\u00e9ponse juste</span>&nbsp;&nbsp;<span style='background-color:pink;'>R\u00e9ponse fausse</span></span>");break;case "soutenu":A("color","<span class='qp_soutenu'><span style='background-color:blue;'>Joker</span>&nbsp;&nbsp;<span style='background-color:green;'>R\u00e9ponse juste</span>&nbsp;&nbsp;<span style='background-color:red;'>R\u00e9ponse fausse</span></span>")}break;
case "anim":switch(b){case "0":A("anim","<"+m+" class='q_rep_nanim_ok' style='visibility:visible;'>Cas d'une r\u00e9ponse juste</"+m+">");break;case "0.5":A("anim","<"+m+" class='q_rep_anim_ok' style=visibility:visible;><span class='q_rep_anim' style='animation-duration:0.5s;'>Cas d'une r\u00e9ponse juste</span></"+m+">");break;case "1":A("anim","<"+m+" class='q_rep_anim_ok' style=visibility:visible;><span class='q_rep_anim' style='animation-duration:1s;'>Cas d'une r\u00e9ponse juste</span></"+m+
">");break;case "2":A("anim","<"+m+" class='q_rep_anim_ok' style=visibility:visible;><span class='q_rep_anim' style='animation-duration:2s;'>Cas d'une r\u00e9ponse juste</span></"+m+">");break;case "3":A("anim","<"+m+" class='q_rep_anim_ok' style=visibility:visible;'><span class='q_rep_anim' style='animation-duration:3s;'>Cas d'une r\u00e9ponse juste</span></"+m+">")}}};this.fermer_q_aside=function(){document.getElementById("asidequizz").style.display="none";I.style.display="block";-1<location.pathname.indexOf("histoire")||
Va?document.documentElement.scrollTop=cb:Wa();na("auto")};this.qz_affiche_quiz=function(){localStorage.qz_choix_q_or_r="quiz";I.style.display="none";window.scrollTo(0,0);document.location.reload()};this.qz_affiche_reponse=function(){localStorage.qz_choix_q_or_r="reponse";I.style.display="none";window.scrollTo(0,0);document.location.reload()};this.q_clic=function(a){t=a.id.substring(3);var b=!1;-1<W?(W==t?da=1:(da=0,b=!0),lequiz.qb_fermer("",W)):(da=1,b=!0);0==k?N(t,!0):(W=t,V=a.parentElement,null==
V.querySelector("#qbn_"+t)?(Ya(V,a,t,!0),da=0,b=!1):document.getElementById("qbn_"+t).style.display="block",M=d[t].compare.substring(0,1),ca=""==Ha(t)?-1<"0123456789".indexOf(M)?"un chiffre":"une lettre":"une r\u00e9ponse",pa=1==k?"Choisir "+ca+" (jaune)":"Saisir un caract\u00e8re",Fa(t),V.style.outline="2px solid blue",V.style.outlineOffset="3px",1<V.querySelectorAll(m).length&&(V.querySelector("#qn_"+t).style.outline="2px dashed red",V.querySelector("#qbn_"+t).style.outline="2px dashed red"),1==
d[t].OK?(b&&0!=D&&S(t,-1),2==k&&document.getElementById("qn_"+t).querySelector(".q_input").focus(),99==d[t].joker?(ba=pa,2==k&&(ba+="<br>ou "+Ua+" 'Pas trouv\u00e9'")):ba="Choisir un joker (bleu)<br>ou "+pa,d[t].lepara.onclick=function(){event.stopPropagation&&(0<da&&1==d[t].OK&&Ba(t,ba),da++)},Xa(t)):d[t].lepara.onclick=null)};this.q_joker_plus=function(a,b,c){var e=b;1==k&&""!=Ha(a)&&(e=7);var f=c,h=q[e].type,x="",n="",r="",w=!1===q[2].OK?"de la r\u00e9ponse":"du dernier mot";if(1==d[a].lesmots.length&&
(w="du mot","NM"==h))for(e++;!1===q[e].OK;)e++;var oa=1<d[a].lesmots.length?""+d[a].lesmots.length+" mots":"";h=q[e].type;if(1==L){if(d[a].deja==d[a].rep){N(a,!0);return}var ja=d[a].lesmots[0].trim();1==ja.length&&0==d[a].nbmots&&1<d[a].lesmots.length&&d[a].deja==ja&&(c=!0)}if(c){switch(h){case "NM":if(d[a].nbmots<d[a].lesmots.length){d[a].encore="";d[a].deja="";d[a].compare="";for(h=0;h<d[a].lesmots.length;h++)h>d[a].nbmots?(d[a].encore+=d[a].lesmots[h],d[a].compare+=d[a].lesmots[h].sansAccent().toLowerCase()):
d[a].deja+=d[a].lesmots[h];d[a].nbmots++;1==k&&Da(a)}d[a].nbmots<d[a].lesmots.length-1&&(f=!1,x="Encore un mot");break;case "NC":n=!0===q[2].OK?d[a].lesmots[d[a].lesmots.length-1].length:d[a].rep.length;n=""+n+" caract\u00e8re"+(1==n?"":"s");1==d[a].encore.length&&(e=7,f=!1);break;case "NP":$a(a);1==k&&Da(a);5<d[a].encore.length&&(f=!1);1==d[a].encore.length&&(e=7,f=!1);break;case "NA":if(1==d[a].encore.length)e=7,f=!1;else{n="";if(!0===q[2].OK)n+=d[a].lesmots[d[a].lesmots.length-1].sansAccent().toLowerCase().split("").sort().join("");
else for(h=0;h<d[a].lesmots.length;h++)c=d[a].lesmots[h],ja=c.substring(c.length-1),c=c.substring(0,c.length-1),n+=c.sansAccent().toLowerCase().split("").sort().join("")+ja;n="Anagramme :<br>"+n}}""!=d[a].deja&&Ca(a,d[a].deja);if(d[a].deja==d[a].rep){N(a,!0);return}d[a].s_ja+=-q[b].pena;S(a,q[b].pena)}if(0!=d[a].score){if(f)for(e++;!1===q[e].OK;)e++;b="<span class='q_l_joker' onclick='lequiz.q_joker_plus("+a+","+e+",true)'>"+(""==x?q[e].lib:x)+"</span>";h=q[e].type;d[a].joker=e;switch(h){case "NM":r=
"";n=oa;break;case "NC":r=w;break;case "NP":r=w;break;case "NA":r=w;break;case "A":d[a].joker=99,1==k&&(b="",ba="Choisir "+ca),2==k&&(ba="Saisir un caract\u00e8re ou<br>"+Ua+" 'Pas trouv\u00e9'",b="<span class='q_rep_nanim_nok' onclick='lequiz.q_perdu("+a+")'> Pas trouv\u00e9 </span>",r="")}e=""+b;""!=n&&(e="<span>"+n+"</span>"+(""==b?"":"<br>")+e);1==k&&(r="A"!=h?r+" / ou":r+("Choisir "+ca));""!=r&&(e+="<br><span>"+r+"</span>");document.getElementById("qbn_"+a).querySelector(".qb_lib").innerHTML=
e;2==k&&document.getElementById("qn_"+a).querySelector(".q_input").focus()}};this.qcm_choix=function(a,b){a==d[b].compare.substring(0,1)?N(b,!0):lequiz.q_perdu(b)};this.qcm_choix_gest=function(a,b){a.innerHTML.trim()==F[b].trim()?N(b,!0):lequiz.q_perdu(b)};this.q_input_plus=function(a,b){0<a.value.length&&" "!=a.value&&(a.value.substring(0,1).sansAccent().toLowerCase()==d[b].compare.substring(0,1)?($a(b),S(b,1),d[b].s_cj++,d[b].deja==d[b].rep&&N(b,!0)):(S(b,-1),d[b].s_cf++));a.value=""};this.q_perdu=
function(a){S(a,-d[a].score)}};